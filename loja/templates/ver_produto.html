{% extends 'base.html' %}
{% load static %}

{% block body %}

<h3>{{ produto.nome }}</h3>

    {% if tem_estoque %}
        <img src="{{ produto.imagem.url }}" width="330" height="490">
        <p>Produto: {{ produto.nome }}</p>
        <p>Preço: {{ produto.preco }}</p>

        {% if cor_selecionada %}
            Cor: {{cor_selecionada.nome}}
        {%endif%}

        {% for cor in cores %}
            <a href="{% url 'ver_produto' produto.id cor.id %}">
                <i class="fa-solid fa-circle" style="color: {{cor.codigo}}"></i>
            </a>
        {% endfor %}


        {% if modelos %} <!-- Fazer esta estrutura para MODELOS -->
        <form method="POST" action="{% url 'adicionar_carrinho' produto.id %}">
            {% csrf_token %}
            <p>Selecione o modelo</p> <!-- Fazer esta estrutura para MODELOS -->
            {% for modelo in modelos %} <!-- Fazer esta estrutura para MODELOS -->
            <input type="radio" name="modelo" value="{{modelo}}"><!-- Fazer esta estrutura para MODELOS -->
            <label for="{{modelo}}">{{modelo}}</label> <!--For deve ter o mesmo valor de Value do input-->
            {% endfor %} <!-- Fazer esta estrutura para MODELOS -->
            <input type="hidden" name="cor" value="{{cor_selecionada.id}}">
            <button type="submit">Adicionar ao Carrinho</button> <!--Type Submit pois ele envia informações, definir no form-->
        </form>
        {% endif %} <!-- Fazer esta estrutura para MODELOS -->

        {% else %}
            <p>Produto fora de estoque</p>
            
    {% endif %}

{% endblock %}